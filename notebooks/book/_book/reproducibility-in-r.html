<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Reproducibility in R</title>
  <meta name="description" content="Reproducibility in R" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Reproducibility in R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Reproducibility in R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="book.html"><a href="#reproducibility-in-r"><i class="fa fa-check"></i><b>1</b> Reproducibility in R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="book.html"><a href="#load-packages-and-import-data"><i class="fa fa-check"></i><b>1.1</b> Load packages and import data</a></li>
<li class="chapter" data-level="1.2" data-path="book.html"><a href="#filtering"><i class="fa fa-check"></i><b>1.2</b> Filtering</a></li>
<li class="chapter" data-level="1.3" data-path="book.html"><a href="#ggplot"><i class="fa fa-check"></i><b>1.3</b> ggplot</a></li>
<li class="chapter" data-level="1.4" data-path="book.html"><a href="#functions"><i class="fa fa-check"></i><b>1.4</b> Functions</a></li>
<li class="chapter" data-level="1.5" data-path="book.html"><a href="#apply-functions"><i class="fa fa-check"></i><b>1.5</b> apply functions</a></li>
<li class="chapter" data-level="1.6" data-path="book.html"><a href="#ifelse"><i class="fa fa-check"></i><b>1.6</b> ifelse</a></li>
<li class="chapter" data-level="1.7" data-path="book.html"><a href="#bookdown-and-quarto"><i class="fa fa-check"></i><b>1.7</b> Bookdown and Quarto</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducibility in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Reproducibility in R</h1>
</div>
<div id="reproducibility-in-r" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Reproducibility in R<a href="#reproducibility-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="load-packages-and-import-data" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Load packages and import data<a href="#load-packages-and-import-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;tidyr&#39;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;plotly&#39;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;quarto&#39;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span></code></pre></div>
<p>We will work with the <code>mpg</code> data. This dataset contains a subset of the fuel economy data that the EPA makes available on <a href="https://fueleconomy.gov/" class="uri">https://fueleconomy.gov/</a>. It contains only models which had a new release every year between 1999 and 2008. Let’s load it here:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">data</span>(mpg)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">head</span>(mpg)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 11
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class  
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  
## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compact
## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compact
## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compact
## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compact
## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compact
## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compact</code></pre>
<p>It has 11 columns:</p>
<p><code>manufacturer</code>: manufacturer name</p>
<p><code>model</code>: model name</p>
<p><code>displ</code>: engine displacement, in litres</p>
<p><code>year</code>: year of manufacture</p>
<p><code>cyl</code>: number of cylinders</p>
<p><code>trans</code>: type of transmission</p>
<p><code>drv</code>: the type of drive train, where f = front-wheel drive, r = rear wheel drive, 4 = 4 wheel drive</p>
<p><code>cty</code>: city miles per gallon</p>
<p><code>hwy</code>: highway miles per gallon</p>
<p><code>fl</code>: fuel type</p>
<p><code>class</code>: type of car</p>
</div>
<div id="filtering" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Filtering<a href="#filtering" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When analyzing your data in a program like Excel, you might want to filter data to look at a particular category of interest. We can do this in R as well. We can filter for cars manufactered by Honda like this:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>h1 <span class="ot">&lt;-</span> mpg[mpg<span class="sc">$</span>manufacturer <span class="sc">%in%</span> <span class="st">&#39;honda&#39;</span>,]</span></code></pre></div>
<p>Or like this using dplyr:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>h2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(mpg, manufacturer <span class="sc">==</span> <span class="st">&#39;honda&#39;</span>)</span></code></pre></div>
<p>I am using the <code>dplyr::filter</code> notation to specify that I want to use the <code>filter</code> from <code>dplyr</code> – not some other package that also has a function called <code>filter</code>.</p>
<p>R will let you name variables <code>h1</code> and <code>h2</code>, but these aren’t very informative variable names and might make it harder for others to understand your code. The tidyverse style guide (<a href="https://style.tidyverse.org/syntax.html" class="uri">https://style.tidyverse.org/syntax.html</a>) suggests that variable names should be nouns and should have only lowercase letters, numbers, <code>_</code>.</p>
<div class="callout-note">
<p>You can use <code>!=</code> to invert the dplyr filtering and specify a group you want to exclude from the data. Make an object called <code>no2seaters</code> that omits the <code>2seaters</code> data from mpg.</p>
</div>
</div>
<div id="ggplot" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> ggplot<a href="#ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You might also want to make some visualizations of your data. Doing this in R rather than something like Excel is more reproducible and its easier for you to remake figures and reuse code. We can use ggplot for this. All plots in ggplot follow the same syntax: <code>ggplot(data=&lt;DATA&gt;) + &lt;GEOM_FUNCTION&gt;(mapping=aes(&lt;MAPPINGS&gt;)</code>.</p>
<p>Mappings refer to the visual properties of objects in the plot, i.e. size, shape, color. Can display points from other variables in different ways by changing value of aesthetic properties.</p>
<p><code>geom</code> is geometrical object that the plot uses to represent data. Bar charts use bar geoms, line charts use line geoms, scatterplots use point geoms, etc. Full list of geoms provided with ggplot2 can be found in the docs: <a href="https://ggplot2.tidyverse.org/reference/#section-layer-geoms" class="uri">https://ggplot2.tidyverse.org/reference/#section-layer-geoms</a>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mpg) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="callout-note">
<p>Run <code>?geom_point</code> in the console to see the documentation. What other <code>aes</code> arguments can we set? Make a plot that colors the points based on the <code>class</code> column from <code>mpg</code>.</p>
</div>
</div>
<div id="functions" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Functions<a href="#functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of the central tenets of reproducible analysis is Don’t Repeat Yourself (DRY). If you find that you are repeating the same code over and over again, it is probably time to turn the code into a function.</p>
<p>Functions take the following basic format:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co">#myfunction &lt;- function(argument_name){</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#  stuff &lt;- this is the body of the function(</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#    it contains statements that use argument_names </span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#    to do things and make stuff) </span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#  return(stuff) </span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#  }</span></span></code></pre></div>
<p>Here’s an example of a function called <code>roll()</code> that rolls any number of 6-sided dice:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>roll <span class="ot">&lt;-</span> <span class="cf">function</span>(number_of_dice){</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>    rolled_dice <span class="ot">&lt;-</span> <span class="fu">sample</span>(</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>        <span class="at">x =</span> <span class="dv">6</span>, </span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>        <span class="at">size =</span> number_of_dice, </span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>        <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    <span class="fu">return</span>(rolled_dice)</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><p>The built-in R function sample() is nested inside our roll() function.</p></li>
<li><p><code>roll()</code> uses the argument <code>number_of_dice</code> as the size, <code>x</code> is the number of sides on the die, which we have hard-coded as 6, and <code>replace = TRUE</code> means that we are sampling the space of all potential die roll outcomes with replacement.</p></li>
<li><p>Lastly, we tell the function what it should return (rolled_dice).</p></li>
</ul>
<p>To call that function and print the output:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">roll</span>(<span class="at">number_of_dice =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 1 4 2 6 4 6 1 2 6 1</code></pre>
<p>The tidyverse style guide (<a href="https://style.tidyverse.org/syntax.html" class="uri">https://style.tidyverse.org/syntax.html</a>) suggests that function names should be verbs.</p>
<div class="callout-note">
<p>Write a function that will filter the <code>mpg</code> data to select a particular elements of <code>class</code> (“compact”,“midsize”, “suv”,“2seater”,“minivan”, “pickup”, or “subcompact”) and report back the mean <code>hwy</code> miles per gallon.</p>
</div>
</div>
<div id="apply-functions" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> apply functions<a href="#apply-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R has a series of apply functions so that function sort of like loops – they let you perform repetitive actions on collections of data. There’s lots of different flavors of apply functions – we are just going to talk about <code>apply</code>, <code>lapply</code> and <code>sapply</code>.</p>
<p><code>apply</code> works with data frames and matrices. It will accept three arguments:</p>
<p><code>X</code>: which is the matrix or data frame</p>
<p><code>MARGIN</code>: which indicates how the function should be applied <code>1</code> indicates rows, <code>2</code> indicates columns, <code>c(1,2)</code> indicates rows and columns.</p>
<p><code>FUN</code>: the function to apply.</p>
<p>For example, we can use it to calculate the mean values for the <code>cty</code> and <code>hwy</code> columns of mpg:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">apply</span>(<span class="at">X =</span> mpg[,<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>], <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> mean)</span></code></pre></div>
<pre><code>##      cty      hwy 
## 16.85897 23.44017</code></pre>
<p><code>lapply</code> works with lists. It accepts two arguments:</p>
<p><code>X</code>: which is a list of elements you want to run the function on</p>
<p><code>FUN</code>: which is the function. It returns a list of the same length as <code>X</code>, each element of which is the result of applying <code>FUN</code> to the corresponding element of <code>X</code>.</p>
<p>For example, we can apply <code>roll</code> to a list that represents groups of dice</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), roll)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 6 1
## 
## [[2]]
## [1] 5 5 4
## 
## [[3]]
## [1] 5 6 2 4</code></pre>
<p>If its a function you only want to use once, you could write an anonymous function:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="cf">function</span>(n) <span class="fu">sample</span>(<span class="at">x =</span> <span class="dv">6</span>, <span class="at">size =</span> n, <span class="at">replace =</span> T))</span></code></pre></div>
<pre><code>## [[1]]
## [1] 5 6
## 
## [[2]]
## [1] 1 3 5
## 
## [[3]]
## [1] 6 2 3 1</code></pre>
<p><code>sapply</code> is similar to <code>lapply</code> and takes the same arguments, but it will return a vector or matrix by default. For example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>), roll)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    5    1    3
## [2,]    5    1    4
## [3,]    1    5    4</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>), roll)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 4 1 6
## 
## [[2]]
## [1] 2 1 3
## 
## [[3]]
## [1] 6 4 1</code></pre>
<p>Sometimes it can’t return a matrix:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), roll)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 6 1
## 
## [[2]]
## [1] 2 3 2
## 
## [[3]]
## [1] 4 2 6 4</code></pre>
<div class="callout-note">
<p>In the previous exercise, you wrote a function to calculate the mean <code>hwy</code> miles per gallon for a particular class of car. Write an <code>lapply</code> statement and an <code>sapply</code> to run that function on all of the unique values of <code>class</code>.</p>
</div>
</div>
<div id="ifelse" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> ifelse<a href="#ifelse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>ifelse</code> function is a shorthand function to the traditional if…else statement used in other programming languages. It takes a vector as an input and outputs a resultant vector. The general syntax for the ifelse statement is as follows:</p>
<p>#returned_vector &lt;- ifelse(test_expression, x, y)</p>
<p><code>returned_vector</code> has element from <code>x</code> if the corresponding value of <code>test_expression</code> is <code>TRUE</code>. If the expression is <code>FALSE</code>, it’ll have an element from <code>y</code>.</p>
<p>For example, we can create a list of numbers and use an <code>ifelse</code> statement to figure out if they are even or not:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="fu">ifelse</span>(numbers <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>,<span class="st">&quot;even&quot;</span>,<span class="st">&quot;odd&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;odd&quot;  &quot;even&quot; &quot;odd&quot;  &quot;even&quot; &quot;odd&quot;  &quot;even&quot; &quot;odd&quot;  &quot;even&quot; &quot;odd&quot;  &quot;even&quot;</code></pre>
<p>If there’s no remainder, it’s even. If there is a remainder, it is odd.</p>
<p>We could also indicate that if the numbers are odd then we should just return their original value:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">ifelse</span>(numbers <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>,<span class="st">&quot;even&quot;</span>,numbers)</span></code></pre></div>
<pre><code>##  [1] &quot;1&quot;    &quot;even&quot; &quot;3&quot;    &quot;even&quot; &quot;5&quot;    &quot;even&quot; &quot;7&quot;    &quot;even&quot; &quot;9&quot;    &quot;even&quot;</code></pre>
<div class="callout-note">
<p>Now that you know how to use <code>ifelse()</code>, add a column to the <code>mpg</code> data indicating whether or not they get 30 or greater <code>hwy</code>.</p>
</div>
</div>
<div id="bookdown-and-quarto" class="section level2 hasAnchor" number="1.7">
<h2><span class="header-section-number">1.7</span> Bookdown and Quarto<a href="#bookdown-and-quarto" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Another way to make your analysis more reproducible is to couple the data analysis with the code used to make it. A single Rmarkdown file can do this, but it gets cumbersome as your analysis involves more and more steps. You can use Bookdown or Quarto to organize your analysis into chapters spread out across several notebook files. Quarto is newer and is particularly nice because it works with R and Python and has lots of output format options and templates <a href="https://quarto.org/" class="uri">https://quarto.org/</a>, including templats that make it easier to submit papers to journals (<a href="https://quarto.org/docs/extensions/listing-journals.html" class="uri">https://quarto.org/docs/extensions/listing-journals.html</a>).
I did this workshop in bookdown (<a href="https://bookdown.org/" class="uri">https://bookdown.org/</a>), which is similar to Quarto but has less bells and whistles. You can still make very nice documents organized into chapters. There’s a file in the same folder as this document called <code>_bookdown.yml</code> – its an example of all you need to convert your files into bookdown, just provide a list of <code>rmd_files</code>. There’s an output file saved in this repo (<code>~/workshop/reproducibility_r/notebooks/book/_book/reproducibility-in-r.html</code>) that you can check out. You should be able to render this notebook if you run <code>render_book('~/workshop/reproducibility_r/notebooks/book')</code>.</p>
<p>If you have questions about anything we have talked about here, come to our office hours (<a href="https://events.brown.edu/ccv/" class="uri">https://events.brown.edu/ccv/</a>). In addition to the general Oscar office hours, you are also welcome to come by the Computational Biology Core office hours. Even if you aren’t a biologist, we can probably help you with your R code.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
