---
title: "Reproducibility in R"
format: html
editor: visual
---

## Gapminder Data

We are going to use some of the data on https://www.gapminder.org for this workshop.

Their statement says: **`Our mission is to fight devastating ignorance with a fact-based worldview everyone can understand.`**

We are going to work with a collection of data describing the life expectancy by year and country of birth -- https://www.gapminder.org/data/documentation/gd004/

## Load packages and import data

```{r echo=T, results='hide', warnings=F, message=F}
library('here')
library('tidyr')
library('ggplot2')
library('plotly')
library('quarto')
library('dplyr')
library('pwr')
library('pdftools')
library('stringr')

```

We have already imposed some structure on the contents of this repository. The `data` folder has three sub-folders -- `raw`, `intermediate`, and `processed`. We can try to import the `raw` data as follows:

Run `here` to figure out current path:

```{r}
here()
```

Tell `here` the path to the current document:

```{r}
i_am("notebooks/quarto/intro.qmd")
```

`here` will give us the top level of the project:

```{r}
here()
```

Which we can use to build the full path to the file:

```{r}
gm_lex_raw <- read.csv(here('data/raw/GM_lex_by_country.csv'))
```

This still works even if we set `setwd()`

```{r}
setwd('/Users/jwalla12/repos/reproducibility_r/notebooks/quarto')
getwd()
here()
```

We can use the `head` function to look at the first few lines of the data we just imported:

```{r}
head(gm_lex_raw)
```

And we can use `$` to get or set column data:

```{r}
head(gm_lex_raw$Life.expectancy)
gm_lex_raw$some_data <- 'new_column'
head(gm_lex_raw)
```

We can remove a column by setting it to NULL

```{r}
gm_lex_raw$some_data <- NULL
head(gm_lex_raw)
```
